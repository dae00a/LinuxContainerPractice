# LinuxContainerPractice
리눅스 API로 컨테이너 구현

## 컨테이너
컨테이너는 소프트웨어 서비스를 실행하는 데 필요한 특정 버전의 프로그래밍 언어 런타임 및 라이브러리와 같은 종속 항목과 애플리케이션 코드를 함께 포함하는 경량 패키지
> 컨테이너는 운영체제 수준에서 CPU, 메모리, 스토리지, 네트워크 리소스를 쉽게 공유할 수 있게 해주며, 컨테이너가 실제로 실행되는 환경에서 애플리케이션을 추상화할 수 있는 논리 패키징 메커니즘을 제공한다.

## 컨테이너의 필요성
특정 애플리케이션이 컴퓨팅 자원을 많이 소모하면 상대적으로 다른 애플리케이션의 성능이 감소한다.
각 애플리케이션이 다른 서버 환경을 요구할 수 있다.
> 컨테이너는 이러한 애플리케이션 전용 환경을 제공함으로써 위 문제를 해결할 수 있다.

애플리케이션 패키징
* 올인원 패키징(애플리케이션 뿐만 아니라 서버에서 제공해주던 라이브러리, 설정 파일 등 필요)
* 애플리케이션 격리(구동 환경)
* 자원 할당
> * 위 방법은 리눅스 커널의 기능 + 런타임(컨테이너 관리 도구)으로 구현이 가능하다.  
> * 그렇다면 다른 운영체제에서는 어떻게 컨테이너를 생성하는가?  
> 타 운영체제에 도커를 설치하면 도커 엔진으로 백그라운드에서 리눅스 vm을 구동하여 컨테이너를 생성한다.  
<img src="https://user-images.githubusercontent.com/76582834/234765202-5f1e2247-8a48-4ed9-9c0b-0f51f8680a51.png" width="30%" height="20%"></img>

통상적으로 많은 애플리케이션이 실행되기 때문에 많은 컨테이너가 필요하다.
> 많은 컨테이너들이 여러 물리 서버에 배포된다.  
> 컨테이너를 어떻게 그룹화하고 어떤 서버에 배포할 지 컨테이너 관리가 필요  
> 이러한 관리 자동화 도구로 쿠버네티스(컨테이너 오케스트레이션) 필요

왜 컨테이너의 내부적인 동작을 알아야 하는가?  
> 애플리케이션이 정상적으로 실행되지 않을 때 원인을 파악하기 위해.

리눅스 운영체제에서 도커없이 어떻게 컨테이너를 만드는가?
> 컨테이너 격리와 자원, 파일 시스템  
> * Control groups : 리소스 사용량 결정
> * Namespaces : 자원을 격리(공개 범위를 결정)
> * Union mount file system : 컨테이너를 효율적으로 관리

## 환경구성
Ubuntu 20.04.6 LTS (GNU/Linux 5.10.102.1-microsoft-standard-WSL2 x86_64)  

```SHELL
~$ sudo apt-get install -y gcc make pkg-config libseccomp-dev tree jq bridge-utils docker
```

## 참고자료
NETPPLE [도커 없이 컨테이너 만들기] : https://netpple.github.io/docs/make-container-without-docker/  
whattsup_kim [컨테이너를 위한 리눅스 기능] : https://velog.io/@whattsup_kim/Linux-Kernel-컨테이너를-위한-리눅스의-프로세스-격리-기능-cgroup-namespace-union-mount
